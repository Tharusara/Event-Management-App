(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{BJHQ:function(t,e,r){"use strict";r.r(e),r.d(e,"UsersModule",(function(){return be}));var a=r("ofXK"),n=r("tyNb"),s=r("3Pt+");function o(t,e){return r=>{const a=r.controls[e];a.errors&&!a.errors.mustMatch||a.setErrors(r.controls[t].value!==a.value?{mustMatch:!0}:null)}}function i(t,e,r=8){return a=>{const n=a.value;if(null===n||""===n||n.length<t||n.length>e)return null;let s=0;return n.length>=6&&(s+=1),n.length>=8&&(s+=2),/[a-z]/.test(n)&&(s+=1),/[A-Z]/.test(n)&&(s+=1),/[0-9]/.test(n)&&(s+=1),/[@#$%!~`\^\&*\(\)_+\-=\[\]\{\}\|\\,\.\/\?]/.test(n)&&(s+=2),s<r?{strongPassword:!0}:null}}var c=r("fXoL"),b=r("7Vn+"),d=r("dNgK"),u=r("5VPf"),l=r("Wp6s"),m=r("kmnG"),f=r("qFsG"),p=r("bTqV"),g=r("NFeN");function h(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"Current password is required"),c.Tb())}function w(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"Wrong current password"),c.Tb())}function U(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.Kc(1,h,2,0,"span",6),c.Kc(2,w,2,0,"span",6),c.Tb()),2&t){const t=c.jc();c.Bb(1),c.qc("ngIf",t.currentPasswordField.errors.required),c.Bb(1),c.qc("ngIf",t.currentPasswordField.errors.notExists)}}function T(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"New password is required"),c.Tb())}function M(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"Password should has minimum 8 characters"),c.Tb())}function P(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"Password should not exceed 25 characters"),c.Tb())}function v(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"Password should be strong"),c.Tb())}function B(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.Kc(1,T,2,0,"span",6),c.Kc(2,M,2,0,"span",6),c.Kc(3,P,2,0,"span",6),c.Kc(4,v,2,0,"span",6),c.Tb()),2&t){const t=c.jc();c.Bb(1),c.qc("ngIf",t.newPasswordField.errors.required),c.Bb(1),c.qc("ngIf",t.newPasswordField.errors.minlength),c.Bb(1),c.qc("ngIf",t.newPasswordField.errors.maxlength),c.Bb(1),c.qc("ngIf",t.newPasswordField.errors.strongPassword)}}function q(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"New password confirm is required"),c.Tb())}function C(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"Password not matched"),c.Tb())}function y(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.Kc(1,q,2,0,"span",6),c.Kc(2,C,2,0,"span",6),c.Tb()),2&t){const t=c.jc();c.Bb(1),c.qc("ngIf",t.newPasswordConfirmField.errors.required),c.Bb(1),c.qc("ngIf",t.newPasswordConfirmField.errors.mustMatch)}}let k=(()=>{class t{constructor(t,e,r){this.authService=t,this.router=e,this.snackBar=r,this.title="Change My Password",this.breadcrumbSegments=["Users","Change My Password"],this.currentPasswordHide=!0,this.newPasswordHide=!0,this.newPasswordConfirmHide=!0,this.form=new s.h({currentPassword:new s.e("",[s.u.required]),newPassword:new s.e("",[s.u.required,s.u.minLength(8),s.u.maxLength(25),i(8,25,8)]),newPasswordConfirm:new s.e("",[s.u.required])},[o("newPassword","newPasswordConfirm")])}get currentPasswordField(){return this.form.controls.currentPassword}get newPasswordField(){return this.form.controls.newPassword}get newPasswordConfirmField(){return this.form.controls.newPasswordConfirm}ngOnInit(){}submit(){this.form.invalid||(this.passwords=this.form.value,this.authService.changeMyPassword(this.passwords).subscribe(()=>{this.snackBar.open("password changed successfull","\u2714",{duration:2e3}),this.router.navigateByUrl("/")},t=>{switch(t.status){case 401:this.snackBar.open("Authentication Failed. You have to login again","Error",{duration:2e3}),setTimeout(()=>{this.router.navigateByUrl("/login")},500);break;case 400:const e=t.message;this.snackBar.open("Current password is wrong","Error",{duration:2e3}),e.oldPassword&&this.currentPasswordField.setErrors({notExists:!0});break;default:this.snackBar.open("Something went wrong","Error",{duration:2e3})}}))}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(b.a),c.Ob(n.c),c.Ob(d.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-change-password"]],decls:50,vars:12,consts:[[3,"title","breadcrumbSegments"],[3,"formGroup","ngSubmit"],[1,"form-group"],["appearance","outline",1,"w-100"],["matInput","","formControlName","currentPassword","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["matInput","","formControlName","newPassword","required","",3,"type"],["matInput","","formControlName","newPasswordConfirm","required","",3,"type"],[1,"text-right","mt-5"],["mat-stroked-button","","type","reset",1,"mx-2","mat-btn-small-sm"],["mat-flat-button","","color","primary","type","submit",1,"m-0","mat-btn-small-sm"],["align","right"],[1,"text-warning"]],template:function(t,e){1&t&&(c.Pb(0,"app-page-header",0),c.Ub(1,"form",1),c.fc("ngSubmit",(function(){return e.submit()})),c.Ub(2,"mat-card"),c.Ub(3,"mat-card-content"),c.Ub(4,"div",2),c.Ub(5,"mat-form-field",3),c.Ub(6,"mat-label"),c.Mc(7,"Current Password"),c.Tb(),c.Pb(8,"input",4),c.Ub(9,"button",5),c.fc("click",(function(){return e.currentPasswordHide=!e.currentPasswordHide})),c.Ub(10,"mat-icon"),c.Mc(11),c.Tb(),c.Tb(),c.Ub(12,"mat-hint"),c.Mc(13,"Enter your current password"),c.Tb(),c.Kc(14,U,3,2,"mat-error",6),c.Tb(),c.Tb(),c.Ub(15,"div",2),c.Ub(16,"mat-form-field",3),c.Ub(17,"mat-label"),c.Mc(18,"New Password"),c.Tb(),c.Pb(19,"input",7),c.Ub(20,"button",5),c.fc("click",(function(){return e.newPasswordHide=!e.newPasswordHide})),c.Ub(21,"mat-icon"),c.Mc(22),c.Tb(),c.Tb(),c.Ub(23,"mat-hint"),c.Mc(24,"Enter a strong password. Ex:\xa0P@ssw0rd"),c.Tb(),c.Kc(25,B,5,4,"mat-error",6),c.Tb(),c.Tb(),c.Ub(26,"div",2),c.Ub(27,"mat-form-field",3),c.Ub(28,"mat-label"),c.Mc(29,"New Password Confirm"),c.Tb(),c.Pb(30,"input",8),c.Ub(31,"button",5),c.fc("click",(function(){return e.newPasswordConfirmHide=!e.newPasswordConfirmHide})),c.Ub(32,"mat-icon"),c.Mc(33),c.Tb(),c.Tb(),c.Ub(34,"mat-hint"),c.Mc(35,"Re Enter above new password"),c.Tb(),c.Kc(36,y,3,2,"mat-error",6),c.Tb(),c.Tb(),c.Ub(37,"div",9),c.Ub(38,"button",10),c.Ub(39,"mat-icon"),c.Mc(40,"refresh"),c.Tb(),c.Mc(41," Reset"),c.Tb(),c.Ub(42,"button",11),c.Ub(43,"mat-icon"),c.Mc(44,"save"),c.Tb(),c.Mc(45," Save Changes"),c.Tb(),c.Tb(),c.Tb(),c.Ub(46,"mat-card-actions",12),c.Ub(47,"span",13),c.Mc(48,"*"),c.Tb(),c.Mc(49," Required Fields "),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.qc("title",e.title)("breadcrumbSegments",e.breadcrumbSegments),c.Bb(1),c.qc("formGroup",e.form),c.Bb(7),c.qc("type",e.currentPasswordHide?"password":"text"),c.Bb(3),c.Nc(e.currentPasswordHide?"visibility_off":"visibility"),c.Bb(3),c.qc("ngIf",e.currentPasswordField.invalid),c.Bb(5),c.qc("type",e.newPasswordHide?"password":"text"),c.Bb(3),c.Nc(e.newPasswordHide?"visibility_off":"visibility"),c.Bb(3),c.qc("ngIf",e.newPasswordField.invalid),c.Bb(5),c.qc("type",e.newPasswordConfirmHide?"password":"text"),c.Bb(3),c.Nc(e.newPasswordConfirmHide?"visibility_off":"visibility"),c.Bb(3),c.qc("ngIf",e.newPasswordConfirmField.invalid))},directives:[u.a,s.w,s.o,s.i,l.a,l.c,m.c,m.g,f.b,s.c,s.n,s.g,s.t,p.b,m.h,g.a,m.f,a.m,l.b,m.b],styles:[""]}),t})();var N=r("0IaG"),I=r("IOme"),F=r("yX84");function O(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"New password is required"),c.Tb())}function x(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.Kc(1,O,2,0,"span",9),c.Tb()),2&t){const t=c.jc(2);c.Bb(1),c.qc("ngIf",t.newPasswordField.errors.required)}}function S(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",1),c.Ub(1,"h1",2),c.Mc(2),c.kc(3,"titlecase"),c.Tb(),c.Ub(4,"mat-card"),c.Ub(5,"div",3),c.Ub(6,"p"),c.Mc(7,"Are you sure you want to Change \u201c\xa0"),c.Ub(8,"span",4),c.Mc(9),c.Tb(),c.Mc(10,"\xa0\u201ds password?"),c.Tb(),c.Tb(),c.Ub(11,"div"),c.Ub(12,"div",5),c.Ub(13,"mat-form-field",6),c.Ub(14,"mat-label"),c.Mc(15,"New Password"),c.Tb(),c.Pb(16,"input",7),c.Ub(17,"button",8),c.fc("click",(function(){c.Bc(t);const e=c.jc();return e.newPasswordHide=!e.newPasswordHide})),c.Ub(18,"mat-icon"),c.Mc(19),c.Tb(),c.Tb(),c.Ub(20,"mat-hint"),c.Mc(21,"Enter a strong password. Ex:\xa0P@ssw0rd"),c.Tb(),c.Kc(22,x,2,1,"mat-error",9),c.Tb(),c.Tb(),c.Tb(),c.Ub(23,"div",10),c.Pb(24,"span",11),c.Ub(25,"button",12),c.Ub(26,"mat-icon"),c.Mc(27,"clear"),c.Tb(),c.Mc(28," No"),c.Tb(),c.Ub(29,"button",13),c.fc("click",(function(){return c.Bc(t),c.jc().updateItems()})),c.Ub(30,"mat-icon"),c.Mc(31,"edit"),c.Tb(),c.Mc(32," Yes"),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=c.jc();c.Bb(2),c.Oc("Reset Password For ",c.lc(3,7,t.user.userName),""),c.Bb(7),c.Nc(t.user.callingName),c.Bb(3),c.qc("formGroup",t.form),c.Bb(4),c.qc("type",t.newPasswordHide?"password":"text"),c.Bb(3),c.Nc(t.newPasswordHide?"visibility_off":"visibility"),c.Bb(3),c.qc("ngIf",t.newPasswordField.invalid),c.Bb(3),c.qc("mat-dialog-close",!1)}}const K=function(){return["Admin"]};let H=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.newPasswordHide=!0}ngOnInit(){this.dialogRef.addPanelClass("custom-dialog"),I.a.isDark()?this.dialogRef.addPanelClass("dark"):this.dialogRef.addPanelClass("light"),this.user=this.data.user,this.form=new s.h({newPassword:new s.e("",[s.u.required])})}get newPasswordField(){return this.form.controls.newPassword}updateItems(){this.dialogRef.close(this.form.controls.newPassword.value)}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(N.g),c.Ob(N.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-reset-password"]],decls:1,vars:2,consts:[["class","dialog-wrapper",4,"appHasRole"],[1,"dialog-wrapper"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"message"],[1,"form-group",3,"formGroup"],["appearance","outline",1,"w-100"],["matInput","","formControlName","newPassword","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["mat-dialog-actions",""],[1,"spacer"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["color","accent","mat-raised-button","",1,"mr-0",3,"click"]],template:function(t,e){1&t&&c.Kc(0,S,33,9,"div",0),2&t&&c.qc("appHasRole",c.tc(1,K))},directives:[F.a,N.h,l.a,N.e,s.o,s.i,m.c,m.g,f.b,s.c,s.n,s.g,s.t,p.b,m.h,g.a,m.f,a.m,N.c,N.d,m.b],pipes:[a.v],styles:[".message[_ngcontent-%COMP%]{font-weight:500}p[_ngcontent-%COMP%]{font-size:110%}div[mat-dialog-actions][_ngcontent-%COMP%]{margin-bottom:-10px}.dialog-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-left:-10px;margin-right:-10px}h1[_ngcontent-%COMP%]{margin-top:-24px;font-size:20px!important;margin-left:-24px!important;margin-right:-24px!important;padding:14px 14px 5px!important;border-bottom:1px solid rgba(0,0,0,.1)}"]}),t})();var D=r("EY2u"),R=r("JIr8"),E=r("VITL");let j=(()=>{class t{constructor(t,e){this.userService=t,this.route=e}resolve(t){return this.userService.getUser(t.params.id).pipe(Object(R.a)(()=>(this.route.navigateByUrl("/users"),D.a)))}}return t.\u0275fac=function(e){return new(e||t)(c.cc(E.a),c.cc(n.c))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var L=r("mrSG"),_=r("zHse"),A=r("Xa2L");function z(t,e){1&t&&(c.Ub(0,"div",3),c.Pb(1,"mat-spinner"),c.Tb())}function G(t,e){if(1&t){const t=c.Vb();c.Ub(0,"button",19),c.fc("click",(function(){return c.Bc(t),c.jc(2).delete()})),c.Ub(1,"mat-icon"),c.Mc(2,"delete"),c.Tb(),c.Mc(3," Delete"),c.Tb()}}function V(t,e){if(1&t){const t=c.Vb();c.Ub(0,"button",20),c.fc("click",(function(){return c.Bc(t),c.jc(2).edit()})),c.Ub(1,"mat-icon"),c.Mc(2,"lock_open"),c.Tb(),c.Mc(3," Reset Password"),c.Tb()}}function $(t,e){1&t&&(c.Ub(0,"button",21),c.Ub(1,"mat-icon"),c.Mc(2,"add"),c.Tb(),c.Mc(3," New User"),c.Tb())}function J(t,e){1&t&&(c.Ub(0,"button",22),c.Ub(1,"mat-icon"),c.Mc(2,"list"),c.Tb(),c.Mc(3," All Users"),c.Tb())}const W=function(){return["Admin"]};function X(t,e){if(1&t&&(c.Ub(0,"div",4),c.Ub(1,"div",5),c.Ub(2,"mat-card",6),c.Pb(3,"img",7),c.Ub(4,"mat-card-content"),c.Ub(5,"table",8),c.Ub(6,"tbody"),c.Ub(7,"tr"),c.Ub(8,"th"),c.Mc(9,"ID"),c.Tb(),c.Ub(10,"td"),c.Mc(11),c.Tb(),c.Tb(),c.Ub(12,"tr"),c.Ub(13,"th"),c.Mc(14,"Created Date"),c.Tb(),c.Ub(15,"td"),c.Mc(16),c.kc(17,"date"),c.Tb(),c.Tb(),c.Ub(18,"tr"),c.Ub(19,"th"),c.Mc(20,"Created Time"),c.Tb(),c.Ub(21,"td"),c.Mc(22),c.kc(23,"date"),c.Tb(),c.Tb(),c.Ub(24,"tr"),c.Ub(25,"th"),c.Mc(26,"System Name"),c.Tb(),c.Ub(27,"td"),c.Mc(28),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(29,"div",9),c.Ub(30,"mat-card",6),c.Ub(31,"mat-card-content"),c.Ub(32,"table",10),c.Ub(33,"tbody"),c.Ub(34,"tr"),c.Ub(35,"th"),c.Mc(36,"ID"),c.Tb(),c.Ub(37,"td"),c.Mc(38),c.Tb(),c.Tb(),c.Ub(39,"tr"),c.Ub(40,"th"),c.Mc(41,"UserName"),c.Tb(),c.Ub(42,"td"),c.Mc(43),c.Tb(),c.Tb(),c.Ub(44,"tr"),c.Ub(45,"th"),c.Mc(46,"Calling Name"),c.Tb(),c.Ub(47,"td"),c.Mc(48),c.Tb(),c.Tb(),c.Ub(49,"tr"),c.Ub(50,"th"),c.Mc(51,"Gender"),c.Tb(),c.Ub(52,"td"),c.Mc(53),c.Tb(),c.Tb(),c.Ub(54,"tr"),c.Ub(55,"th"),c.Mc(56,"Date of Birth"),c.Tb(),c.Ub(57,"td"),c.Mc(58),c.kc(59,"date"),c.Tb(),c.Tb(),c.Ub(60,"tr"),c.Ub(61,"th"),c.Mc(62,"Date of Recruit"),c.Tb(),c.Pb(63,"td",11),c.kc(64,"date"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(65,"div",12),c.Kc(66,G,4,0,"button",13),c.Kc(67,V,4,0,"button",14),c.Pb(68,"span",15),c.Ub(69,"button",16),c.Ub(70,"mat-icon"),c.Mc(71,"edit"),c.Tb(),c.Mc(72," Change"),c.Tb(),c.Kc(73,$,4,0,"button",17),c.Kc(74,J,4,0,"button",18),c.Tb()),2&t){const t=c.jc();c.Bb(3),c.rc("src",t.getphotoUrl(),c.Dc),c.Bb(8),c.Nc(t.user.id),c.Bb(5),c.Nc(c.lc(17,16,t.user.created)),c.Bb(6),c.Nc(c.nc(23,18,t.user.created,"shortTime","+0530")),c.Bb(6),c.Nc(null==t.user?null:t.user.userName),c.Bb(10),c.Nc(t.user.id),c.Bb(5),c.Nc(t.user.userName),c.Bb(5),c.Nc(t.user.callingName),c.Bb(5),c.Nc(t.user.gender),c.Bb(5),c.Nc(c.lc(59,22,t.user.dateOfBirth)),c.Bb(5),c.qc("innerHTML",c.lc(64,24,null==t.user?null:t.user.created),c.Cc),c.Bb(3),c.qc("appHasRole",c.tc(26,W)),c.Bb(1),c.qc("appHasRole",c.tc(27,W)),c.Bb(2),c.sc("routerLink","/users/edit/",t.user.id,""),c.Bb(4),c.qc("appHasRole",c.tc(28,W)),c.Bb(1),c.qc("appHasRole",c.tc(29,W))}}const Y=function(t){return["Users","Show All Users",t]};let Z=(()=>{class t{constructor(t,e,r,a,n,s){this.userService=t,this.authService=e,this.route=r,this.dialog=a,this.snackBar=n,this.router=s,this.loadingState=!1,this.route.data.subscribe(({user:t})=>{this.user=t})}getphotoUrl(){switch(this.user.gender){case"female":return"../../../../assets/images/female.jpg";case"male":return"../../../../assets/images/male.jpg";default:return"../../../../assets/images/Admin.png"}}ngOnInit(){}delete(){this.dialog.open(_.a,{width:"400px",data:{message:this.user.userName}}).afterClosed().subscribe(t=>Object(L.b)(this,void 0,void 0,(function*(){t&&(this.loadingState=!0,this.userService.delete(this.user.id).subscribe(()=>{this.snackBar.open("User Deleted successfully","\u2714",{duration:2e3}),this.router.navigateByUrl("/users")},t=>{console.log(t),this.snackBar.open("Failed to delete! someting went wrong","ERROR",{duration:2e3}),this.loadingState=!1}))})))}edit(){this.dialog.open(H,{width:"400px",data:{user:this.user}}).afterClosed().subscribe(t=>{if(!t)return;this.loadingState=!0;const e={newPassword:t};console.log(e),e&&this.authService.resetPassword(this.user.id,e).subscribe(()=>{this.snackBar.open("Password Reset successfully","\u2714",{duration:2e3}),this.loadingState=!1},t=>{console.log(t),this.snackBar.open("Something Went Wrong\u2757","\u274c",{duration:2e3}),this.loadingState=!1})})}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(E.a),c.Ob(b.a),c.Ob(n.a),c.Ob(N.b),c.Ob(d.a),c.Ob(n.c))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-user-detail"]],decls:4,vars:6,consts:[[3,"title","breadcrumbSegments"],["class","spinner",4,"ngIf","ngIfElse"],["userdetail",""],[1,"spinner"],[1,"row"],[1,"col-md-4"],[1,"example-card"],["mat-card-image","",3,"src"],[1,"w-100","table-striped","user-data-table"],[1,"col-md-8"],[1,"w-100","table-striped","custom-data-table"],[3,"innerHTML"],[1,"d-flex","mt-5"],["class","ml-0","mat-raised-button","","color","warn",3,"click",4,"appHasRole"],["class","ml-0","mat-stroked-button","","color","primary",3,"click",4,"appHasRole"],[1,"spacer"],["mat-raised-button","","color","accent",3,"routerLink"],["routerLink","/users/add","mat-stroked-button","",4,"appHasRole"],["routerLink","/users","class","mr-0","mat-raised-button","","color","primary",4,"appHasRole"],["mat-raised-button","","color","warn",1,"ml-0",3,"click"],["mat-stroked-button","","color","primary",1,"ml-0",3,"click"],["routerLink","/users/add","mat-stroked-button",""],["routerLink","/users","mat-raised-button","","color","primary",1,"mr-0"]],template:function(t,e){if(1&t&&(c.Pb(0,"app-page-header",0),c.Kc(1,z,2,0,"div",1),c.Kc(2,X,75,30,"ng-template",null,2,c.Lc)),2&t){const t=c.yc(3);c.sc("title","User Detail Page of ",e.user.id,""),c.qc("breadcrumbSegments",c.uc(4,Y,"Details of "+e.user.userName)),c.Bb(1),c.qc("ngIf",e.loadingState)("ngIfElse",t)}},directives:[u.a,a.m,A.b,l.a,l.d,l.c,F.a,p.b,n.d,g.a],pipes:[a.e],styles:[".spinner[_ngcontent-%COMP%]{top:45%;left:47%;position:absolute}"]}),t})();var Q=r("ohFZ"),tt=r("QibW"),et=r("iadO");function rt(t,e){1&t&&(c.Ub(0,"mat-error"),c.Mc(1,"Username is required"),c.Tb())}function at(t,e){1&t&&(c.Ub(0,"mat-error"),c.Mc(1,"Username is Invalid"),c.Tb())}function nt(t,e){1&t&&(c.Ub(0,"mat-error"),c.Mc(1,"This Username is Already Taken"),c.Tb())}function st(t,e){1&t&&(c.Ub(0,"mat-error"),c.Mc(1,"Full Name is required"),c.Tb())}function ot(t,e){1&t&&(c.Ub(0,"mat-error"),c.Mc(1,"Full Name is Invalid"),c.Tb())}function it(t,e){1&t&&(c.Ub(0,"mat-error"),c.Mc(1,"This Full Name is Already Taken"),c.Tb())}function ct(t,e){1&t&&(c.Ub(0,"mat-error"),c.Mc(1," Date of Birth is required "),c.Tb())}function bt(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"Password is required"),c.Tb())}function dt(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"Password should has minimum 8 characters"),c.Tb())}function ut(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"Password should not exceed 25 characters"),c.Tb())}function lt(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"Password should be strong"),c.Tb())}function mt(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.Kc(1,bt,2,0,"span",5),c.Kc(2,dt,2,0,"span",5),c.Kc(3,ut,2,0,"span",5),c.Kc(4,lt,2,0,"span",5),c.Tb()),2&t){const t=c.jc();c.Bb(1),c.qc("ngIf",t.passwordField.errors.required),c.Bb(1),c.qc("ngIf",t.passwordField.errors.minlength),c.Bb(1),c.qc("ngIf",t.passwordField.errors.maxlength),c.Bb(1),c.qc("ngIf",t.passwordField.errors.strongPassword)}}function ft(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"Password confirm is required"),c.Tb())}function pt(t,e){1&t&&(c.Ub(0,"span"),c.Mc(1,"Password not matched"),c.Tb())}function gt(t,e){if(1&t&&(c.Ub(0,"mat-error"),c.Kc(1,ft,2,0,"span",5),c.Kc(2,pt,2,0,"span",5),c.Tb()),2&t){const t=c.jc();c.Bb(1),c.qc("ngIf",t.passwordConfirmField.errors.required),c.Bb(1),c.qc("ngIf",t.passwordConfirmField.errors.mustMatch)}}const ht=function(){return["Users","Add New User"]};let wt=(()=>{class t{constructor(t,e,r,a){this.authService=t,this.snackBar=e,this.asyncValidators=r,this.route=a,this.passwordHide=!0,this.passwordConfirmHide=!0,this.form=new s.h({username:new s.e("",[s.u.required,s.u.pattern("^[A-Za-z]+$")],[this.asyncValidators.validateUserName]),gender:new s.e("male",[s.u.required]),callingName:new s.e("",[s.u.required,s.u.pattern("^[A-Za-z]+$")],this.asyncValidators.validateUserCallingName),dateOfBirth:new s.e("",[s.u.required]),password:new s.e("",[s.u.required,s.u.minLength(8),s.u.maxLength(25),i(8,25,8)]),passwordConfirm:new s.e("",[s.u.required])},[o("password","passwordConfirm")])}get usernameField(){return this.form.controls.username}get genderField(){return this.form.controls.gender}get callingNameField(){return this.form.controls.callingName}get dateOfBirthField(){return this.form.controls.dateOfBirth}get passwordField(){return this.form.controls.password}get passwordConfirmField(){return this.form.controls.passwordConfirm}ngOnInit(){}submit(){this.form.invalid||(this.user=Object.assign({},this.form.value),this.authService.register(this.user).subscribe(()=>{this.snackBar.open("registeration successfull",null,{duration:3e3}),this.route.navigateByUrl("/users")},()=>{this.snackBar.open(`Username "${this.form.get("username").value}" Already exists `,"Error",{duration:3e3})}))}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(b.a),c.Ob(d.a),c.Ob(Q.a),c.Ob(n.c))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-user-form"]],decls:82,vars:18,consts:[["title","User Form",3,"breadcrumbSegments"],[3,"formGroup","ngSubmit"],[1,"wrapper"],["appearance","outline",1,"w-100","mb-3"],["matInput","","type","text","formControlName","username","required",""],[4,"ngIf"],["matInput","","type","text","formControlName","callingName","required",""],[1,"form-group"],[1,"row"],[1,"col-md-6"],["formControlName","gender",1,"contact-radio-group"],["value","male",1,"contact-radio-button"],["value","female",1,"contact-radio-button"],["appearance","outline",1,"w-100"],["matInput","","formControlName","dateOfBirth","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","password","required","",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","passwordConfirm","required","",3,"type"],[1,"text-right","mt-5","d-flex"],["routerLink","/users","mat-stroked-button","","color","primary",1,"ml-0"],[1,"spacer"],["mat-stroked-button","","type","reset"],["mat-raised-button","","color","primary","type","submit",1,"mr-0"],["align","right"],[1,"text-warning"]],template:function(t,e){if(1&t&&(c.Pb(0,"app-page-header",0),c.Ub(1,"form",1),c.fc("ngSubmit",(function(){return e.submit()})),c.Ub(2,"mat-card",2),c.Ub(3,"mat-card-content"),c.Ub(4,"mat-form-field",3),c.Ub(5,"mat-label"),c.Mc(6,"Username"),c.Tb(),c.Pb(7,"input",4),c.Ub(8,"mat-hint"),c.Mc(9,"Enter the username. Ex:\xa0Username"),c.Tb(),c.Kc(10,rt,2,0,"mat-error",5),c.Kc(11,at,2,0,"mat-error",5),c.Kc(12,nt,2,0,"mat-error",5),c.Tb(),c.Ub(13,"mat-form-field",3),c.Ub(14,"mat-label"),c.Mc(15,"Full Name"),c.Tb(),c.Pb(16,"input",6),c.Ub(17,"mat-hint"),c.Mc(18,"Enter a CallingName. Ex:\xa0Jason"),c.Tb(),c.Kc(19,st,2,0,"mat-error",5),c.Kc(20,ot,2,0,"mat-error",5),c.Kc(21,it,2,0,"mat-error",5),c.Tb(),c.Ub(22,"div",7),c.Ub(23,"div",8),c.Ub(24,"div",9),c.Ub(25,"label"),c.Mc(26,"Gender"),c.Tb(),c.Pb(27,"br"),c.Ub(28,"mat-radio-group",10),c.Ub(29,"mat-radio-button",11),c.Mc(30," Male "),c.Tb(),c.Ub(31,"mat-radio-button",12),c.Mc(32," Female "),c.Tb(),c.Tb(),c.Tb(),c.Ub(33,"div",9),c.Ub(34,"mat-form-field",13),c.Ub(35,"mat-label"),c.Mc(36,"Choose a birthday"),c.Tb(),c.Pb(37,"input",14),c.Ub(38,"mat-hint"),c.Mc(39,"Choose a DateOfBirth. Ex:\xa012/25/2020"),c.Tb(),c.Pb(40,"mat-datepicker-toggle",15),c.Pb(41,"mat-datepicker",null,16),c.Kc(43,ct,2,0,"mat-error",5),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(44,"mat-form-field",3),c.Ub(45,"mat-label"),c.Mc(46,"Password"),c.Tb(),c.Pb(47,"input",17),c.Ub(48,"button",18),c.fc("click",(function(){return e.passwordHide=!e.passwordHide})),c.Ub(49,"mat-icon"),c.Mc(50),c.Tb(),c.Tb(),c.Ub(51,"mat-hint"),c.Mc(52,"Enter a strong password. Ex:\xa0P@ssw0rd"),c.Tb(),c.Kc(53,mt,5,4,"mat-error",5),c.Tb(),c.Ub(54,"mat-form-field",3),c.Ub(55,"mat-label"),c.Mc(56,"Password Confirm"),c.Tb(),c.Pb(57,"input",19),c.Ub(58,"button",18),c.fc("click",(function(){return e.passwordConfirmHide=!e.passwordConfirmHide})),c.Ub(59,"mat-icon"),c.Mc(60),c.Tb(),c.Tb(),c.Ub(61,"mat-hint"),c.Mc(62,"Re Enter above password"),c.Tb(),c.Kc(63,gt,3,2,"mat-error",5),c.Tb(),c.Tb(),c.Ub(64,"div",20),c.Ub(65,"button",21),c.Ub(66,"mat-icon"),c.Mc(67,"list"),c.Tb(),c.Mc(68," All Users"),c.Tb(),c.Pb(69,"span",22),c.Ub(70,"button",23),c.Ub(71,"mat-icon"),c.Mc(72,"refresh"),c.Tb(),c.Mc(73," Clear"),c.Tb(),c.Ub(74,"button",24),c.Ub(75,"mat-icon"),c.Mc(76,"save"),c.Tb(),c.Mc(77," Save"),c.Tb(),c.Tb(),c.Ub(78,"mat-card-actions",25),c.Ub(79,"span",26),c.Mc(80,"*"),c.Tb(),c.Mc(81," Required Fields "),c.Tb(),c.Tb(),c.Tb()),2&t){const t=c.yc(42);c.qc("breadcrumbSegments",c.tc(17,ht)),c.Bb(1),c.qc("formGroup",e.form),c.Bb(9),c.qc("ngIf",e.form.get("username").errors&&e.form.get("username").touched),c.Bb(1),c.qc("ngIf",e.form.get("callingName").touched&&e.form.get("callingName").hasError("pattern")),c.Bb(1),c.qc("ngIf",null==e.usernameField.errors?null:e.usernameField.errors.validate),c.Bb(7),c.qc("ngIf",e.form.get("callingName").touched&&e.form.get("callingName").hasError("required")),c.Bb(1),c.qc("ngIf",e.form.get("callingName").touched&&e.form.get("callingName").hasError("pattern")),c.Bb(1),c.qc("ngIf",null==e.callingNameField.errors?null:e.callingNameField.errors.validate),c.Bb(16),c.qc("matDatepicker",t),c.Bb(3),c.qc("for",t),c.Bb(3),c.qc("ngIf",e.form.get("dateOfBirth").touched&&e.form.get("dateOfBirth").hasError("required")),c.Bb(4),c.qc("type",e.passwordHide?"password":"text"),c.Bb(3),c.Nc(e.passwordHide?"visibility_off":"visibility"),c.Bb(3),c.qc("ngIf",e.passwordField.invalid),c.Bb(4),c.qc("type",e.passwordConfirmHide?"password":"text"),c.Bb(3),c.Nc(e.passwordConfirmHide?"visibility_off":"visibility"),c.Bb(3),c.qc("ngIf",e.passwordConfirmField.invalid)}},directives:[u.a,s.w,s.o,s.i,l.a,l.c,m.c,m.g,f.b,s.c,s.n,s.g,s.t,m.f,a.m,tt.b,tt.a,et.b,et.d,m.h,et.a,p.b,g.a,n.d,l.b,m.b],styles:["#admin-configuration-page[_ngcontent-%COMP%]{width:100%;height:100%;padding:35px 15px 15px}#admin-configuration-page[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;border-bottom:1px solid #019986;padding-bottom:10px;margin:auto auto 10px}#admin-configuration-page[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:170px;margin:15px auto}#admin-configuration-page[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:100%;max-width:420px;margin:auto}#admin-configuration-page[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{margin:5px -16px}#admin-configuration-page[_ngcontent-%COMP%]   mat-card-footer[_ngcontent-%COMP%]{margin-left:0;margin-right:0}#admin-configuration-page[_ngcontent-%COMP%]   #btn-register[_ngcontent-%COMP%]{width:100%;margin:0 0 16px}"]}),t})();var Ut=r("d3UM"),Tt=r("FKr1"),Mt=r("M9IT"),Pt=r("+0xr"),vt=r("rO2v");function Bt(t,e){1&t&&(c.Ub(0,"div",4),c.Pb(1,"mat-spinner"),c.Ub(2,"h1",5),c.Mc(3,"Loading..."),c.Tb(),c.Tb())}function qt(t,e){1&t&&(c.Ub(0,"div",23),c.Ub(1,"button",24),c.Ub(2,"mat-icon"),c.Mc(3,"add"),c.Tb(),c.Mc(4," New User"),c.Tb(),c.Tb())}function Ct(t,e){1&t&&(c.Ub(0,"th",40),c.Mc(1," ID "),c.Tb())}function yt(t,e){if(1&t&&(c.Ub(0,"td",41),c.Mc(1),c.Tb()),2&t){const t=e.$implicit;c.Bb(1),c.Oc("UID",t.id," ")}}function kt(t,e){1&t&&(c.Ub(0,"th",40),c.Mc(1," Name "),c.Tb())}function Nt(t,e){if(1&t&&(c.Ub(0,"td",41),c.Mc(1),c.Tb()),2&t){const t=e.$implicit;c.Bb(1),c.Oc(" ",t.userName," ")}}function It(t,e){1&t&&(c.Ub(0,"th",40),c.Mc(1," Gender "),c.Tb())}function Ft(t,e){if(1&t&&(c.Ub(0,"td",41),c.Mc(1),c.Tb()),2&t){const t=e.$implicit;c.Bb(1),c.Oc(" ",t.gender," ")}}function Ot(t,e){1&t&&(c.Ub(0,"th",40),c.Mc(1," Creation Time "),c.Tb())}function xt(t,e){if(1&t&&(c.Ub(0,"td",41),c.Mc(1),c.Tb()),2&t){const t=e.$implicit;c.Bb(1),c.Oc(" ",t.dateOfBirth,"")}}function St(t,e){1&t&&c.Pb(0,"th",42)}function Kt(t,e){if(1&t&&(c.Ub(0,"td",43),c.Ub(1,"button",44),c.Ub(2,"mat-icon"),c.Mc(3,"visibility"),c.Tb(),c.Mc(4," More ..."),c.Tb(),c.Tb()),2&t){const t=e.$implicit;c.Bb(1),c.sc("routerLink","/users/",t.id,"")}}function Ht(t,e){1&t&&c.Pb(0,"th",42)}function Dt(t,e){if(1&t){const t=c.Vb();c.Ub(0,"button",46),c.fc("click",(function(){c.Bc(t);const e=c.jc().$implicit;return c.jc(5).delete(e)})),c.Ub(1,"mat-icon"),c.Mc(2,"delete"),c.Tb(),c.Mc(3," Delete"),c.Tb()}}const Rt=function(){return["Admin"]};function Et(t,e){1&t&&(c.Ub(0,"td",43),c.Kc(1,Dt,4,0,"button",45),c.Tb()),2&t&&(c.Bb(1),c.qc("appHasRole",c.tc(1,Rt)))}function jt(t,e){1&t&&c.Pb(0,"th",42)}function Lt(t,e){if(1&t&&(c.Ub(0,"button",48),c.Ub(1,"mat-icon"),c.Mc(2,"edit"),c.Tb(),c.Mc(3," Change"),c.Tb()),2&t){const t=c.jc().$implicit;c.sc("routerLink","/users/edit/",t.id,"")}}function _t(t,e){1&t&&(c.Ub(0,"td",43),c.Kc(1,Lt,4,1,"button",47),c.Tb()),2&t&&(c.Bb(1),c.qc("appHasRole",c.tc(1,Rt)))}function At(t,e){1&t&&c.Pb(0,"tr",49)}function zt(t,e){1&t&&c.Pb(0,"tr",50)}function Gt(t,e){if(1&t&&(c.Ub(0,"div",25),c.Ub(1,"table",26),c.Sb(2,27),c.Kc(3,Ct,2,0,"th",28),c.Kc(4,yt,2,1,"td",29),c.Rb(),c.Sb(5,30),c.Kc(6,kt,2,0,"th",28),c.Kc(7,Nt,2,1,"td",29),c.Rb(),c.Sb(8,31),c.Kc(9,It,2,0,"th",28),c.Kc(10,Ft,2,1,"td",29),c.Rb(),c.Sb(11,32),c.Kc(12,Ot,2,0,"th",28),c.Kc(13,xt,2,1,"td",29),c.Rb(),c.Sb(14,33),c.Kc(15,St,1,0,"th",34),c.Kc(16,Kt,5,1,"td",35),c.Rb(),c.Sb(17,36),c.Kc(18,Ht,1,0,"th",34),c.Kc(19,Et,2,2,"td",35),c.Rb(),c.Sb(20,37),c.Kc(21,jt,1,0,"th",34),c.Kc(22,_t,2,2,"td",35),c.Rb(),c.Kc(23,At,1,0,"tr",38),c.Kc(24,zt,1,0,"tr",39),c.Tb(),c.Tb()),2&t){const t=c.jc(4);c.Bb(1),c.qc("dataSource",t.userDataPage),c.Bb(22),c.qc("matHeaderRowDef",t.displayedColumns),c.Bb(1),c.qc("matRowDefColumns",t.displayedColumns)}}function Vt(t,e){1&t&&c.Pb(0,"app-empty-data-table",51)}const $t=function(){return[2,4,5,10,20]};function Jt(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",7),c.Ub(1,"mat-card"),c.Ub(2,"mat-card-content"),c.Kc(3,qt,5,0,"div",8),c.Ub(4,"div",9),c.Ub(5,"div",10),c.Ub(6,"div",11),c.Ub(7,"mat-form-field",12),c.Ub(8,"mat-label"),c.Mc(9,"Filter by ID"),c.Tb(),c.Ub(10,"input",13),c.fc("keyup",(function(){return c.Bc(t),c.jc(3).loadData()})),c.Tb(),c.Tb(),c.Tb(),c.Pb(11,"span",14),c.Ub(12,"div",11),c.Ub(13,"mat-form-field",12),c.Ub(14,"mat-label"),c.Mc(15,"Filter by Name"),c.Tb(),c.Ub(16,"input",13),c.fc("keyup",(function(){return c.Bc(t),c.jc(3).loadData()})),c.Tb(),c.Tb(),c.Tb(),c.Ub(17,"div",11),c.Ub(18,"mat-form-field",12),c.Ub(19,"mat-label"),c.Mc(20,"Filter by Gender "),c.Tb(),c.Ub(21,"mat-select",15),c.Ub(22,"mat-option",16),c.fc("click",(function(){return c.Bc(t),c.jc(3).loadData()})),c.Mc(23,"All"),c.Tb(),c.Ub(24,"mat-option",17),c.fc("click",(function(){return c.Bc(t),c.jc(3).loadData()})),c.Mc(25,"Male"),c.Tb(),c.Ub(26,"mat-option",18),c.fc("click",(function(){return c.Bc(t),c.jc(3).loadData()})),c.Mc(27,"Female"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Kc(28,Gt,25,3,"div",19),c.Kc(29,Vt,1,0,"app-empty-data-table",20),c.Ub(30,"div",21),c.Ub(31,"mat-paginator",22),c.fc("page",(function(e){return c.Bc(t),c.jc(3).paginate(e)})),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=c.jc(3);c.Bb(3),c.qc("appHasRole",c.tc(11,Rt)),c.Bb(7),c.qc("formControl",t.codeField),c.Bb(6),c.qc("formControl",t.nameField),c.Bb(5),c.qc("formControl",t.genderField),c.Bb(1),c.qc("value",null),c.Bb(6),c.qc("ngIf",t.userDataPage.length>0),c.Bb(1),c.qc("ngIf",0===t.userDataPage.length),c.Bb(2),c.qc("length",t.pagination.totalItems)("pageSize",t.pagination.itemsPerPage)("pageSizeOptions",c.tc(12,$t))("showFirstLastButtons",!0)}}function Wt(t,e){if(1&t&&c.Kc(0,Jt,32,13,"div",6),2&t){const t=c.jc(2);c.qc("ngIf",void 0!==t.userDataPage)}}const Xt=function(){return["Users","Show All Users"]};function Yt(t,e){if(1&t&&(c.Sb(0),c.Pb(1,"app-page-header",1),c.Kc(2,Bt,4,0,"div",2),c.Kc(3,Wt,1,1,"ng-template",null,3,c.Lc),c.Rb()),2&t){const t=c.yc(4),e=c.jc();c.Bb(1),c.qc("breadcrumbSegments",c.tc(3,Xt)),c.Bb(1),c.qc("ngIf",e.loadingState)("ngIfElse",t)}}const Zt=function(){return["Admin","Manager"]};function Qt(t,e){1&t&&(c.Ub(0,"mat-error"),c.Mc(1,"Username is required"),c.Tb())}function te(t,e){1&t&&(c.Ub(0,"mat-error"),c.Mc(1,"Full Name is required"),c.Tb())}function ee(t,e){1&t&&(c.Ub(0,"mat-error"),c.Mc(1," Date of Birth is required "),c.Tb())}function re(t,e){1&t&&(c.Ub(0,"button",25),c.Ub(1,"mat-icon"),c.Mc(2,"list"),c.Tb(),c.Mc(3," All Users"),c.Tb())}const ae=function(t){return["Users","Show All Users",t]},ne=function(){return["Admin","Manager"]},se=[{path:"",component:(()=>{class t{constructor(t,e,r){this.userService=t,this.snackBar=e,this.dialog=r,this.userParams={},this.displayedColumns=["code","name","gender","dob","delete-col","update-col","more-col"],this.pageSize=5,this.pageIndex=1,this.live=!1,this.codeField=new s.e,this.nameField=new s.e,this.genderField=new s.e}ngOnInit(){this.loadingState=!0,this.loadData(),this.live=!0,this.refreshData()}loadData(){this.userParams.name=this.nameField.value,this.userParams.id=this.codeField.value,this.userParams.gender=this.genderField.value,this.userService.getUsers(this.pageIndex,this.pageSize,this.userParams).subscribe(t=>{this.loadingState=!1,this.userDataPage=t.result,this.pagination=t.pagination},t=>{console.log(t),this.snackBar.open("error loading data ","Error",{duration:3e3})})}refreshData(){this.loadData()}paginate(t){this.pagination.currentPage=t.pageIndex,this.pageSize=t.pageSize,this.pageIndex=t.pageIndex+1,this.loadData()}ngOnDestroy(){this.live=!1}delete(t){this.dialog.open(_.a,{width:"400px",data:{message:t.callingName}}).afterClosed().subscribe(e=>{e&&(this.loadingState=!0,this.userService.delete(t.id).subscribe(()=>{this.snackBar.open("user Deleted successfully","\u2714",{duration:2e3}),this.loadData()},t=>{console.log(t),this.snackBar.open("Failed to delete! someting went wrong","ERROR",{duration:2e3}),this.loadingState=!1}))})}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(E.a),c.Ob(d.a),c.Ob(N.b))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-user-table"]],decls:1,vars:2,consts:[[4,"appHasRole"],["title","Users",3,"breadcrumbSegments"],["class","spinner",4,"ngIf","ngIfElse"],["userlist",""],[1,"spinner"],[1,"mat-h1","mt-3"],["class","mat-elevation-z8",4,"ngIf"],[1,"mat-elevation-z8"],["class","mb-2",4,"appHasRole"],[1,"mb-1"],[1,"row"],[1,"col-md-6","col-lg-3"],["appearance","outline",1,"w-100","search-form-field"],["matInput","",3,"formControl","keyup"],[1,"spacer"],[3,"formControl"],["selected","",3,"value","click"],["value","male",3,"click"],["value","female",3,"click"],["class","table-responsive table-striped",4,"ngIf"],["message","No users to show",4,"ngIf"],[1,"mt-1"],[3,"length","pageSize","pageSizeOptions","showFirstLastButtons","page"],[1,"mb-2"],["routerLink","/users/add","mat-raised-button","","color","primary",1,"mx-0"],[1,"table-responsive","table-striped"],["mat-table","",1,"w-100",3,"dataSource"],["matColumnDef","code"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","gender"],["matColumnDef","dob"],["matColumnDef","more-col"],["class","btn-col","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","btn-col",4,"matCellDef"],["matColumnDef","delete-col"],["matColumnDef","update-col"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"btn-col"],["mat-cell","",1,"btn-col"],["mat-raised-button","",1,"mat-btn-sm",3,"routerLink"],["class","mat-btn-sm","mat-raised-button","","color","warn",3,"click",4,"appHasRole"],["mat-raised-button","","color","warn",1,"mat-btn-sm",3,"click"],["class","mat-btn-sm","mat-raised-button","","color","accent",3,"routerLink",4,"appHasRole"],["mat-raised-button","","color","accent",1,"mat-btn-sm",3,"routerLink"],["mat-header-row",""],["mat-row",""],["message","No users to show"]],template:function(t,e){1&t&&c.Kc(0,Yt,5,4,"ng-container",0),2&t&&c.qc("appHasRole",c.tc(1,Zt))},directives:[F.a,u.a,a.m,A.b,l.a,l.c,m.c,m.g,f.b,s.c,s.n,s.f,Ut.a,Tt.n,Mt.a,p.b,n.d,g.a,Pt.j,Pt.c,Pt.e,Pt.b,Pt.g,Pt.i,Pt.d,Pt.a,Pt.f,Pt.h,vt.a],styles:[".spinner[_ngcontent-%COMP%]{top:45%;left:47%;position:absolute}"]}),t})()},{path:"change-my-password",component:k},{path:"add",component:wt},{path:"reset-password",component:H},{path:":id",component:Z,resolve:{user:j}},{path:"edit/:id",component:(()=>{class t{constructor(t,e,r,a){this.route=t,this.userService=e,this.snackBar=r,this.router=a,this.passwordHide=!0,this.passwordConfirmHide=!0,this.route.data.subscribe(({user:t})=>{this.user=t,this.id=t.id,this.initializeForm()})}ngOnInit(){}reset(){this.form.reset(this.user)}initializeForm(){this.form=new s.h({userName:new s.e(this.user.userName,[s.u.required]),gender:new s.e(this.user.gender,[s.u.required]),callingName:new s.e(this.user.callingName,[s.u.required]),dateOfBirth:new s.e(this.user.dateOfBirth,[s.u.required])})}get userNameField(){return this.form.controls.userName}get genderField(){return this.form.controls.gender}get callingNameField(){return this.form.controls.callingName}get dateOfBirthField(){return this.form.controls.dateOfBirth}get passwordField(){return this.form.controls.password}get passwordConfirmField(){return this.form.controls.passwordConfirm}submit(){this.form.invalid||(this.user=this.form.value,this.userService.UpdateUser(this.id,this.user).subscribe(()=>{this.snackBar.open("user successfully Updated","\u2714",{duration:2e3}),this.router.navigateByUrl("/users/"+this.id)},t=>{switch(t.status){case 401:this.snackBar.open("Authentication Failed. You have to login again","Error",{duration:2e3}),setTimeout(()=>{this.router.navigateByUrl("/login")},500);break;case 403:this.snackBar.open(t.error.message,"Error",{duration:2e3}),setTimeout(()=>{this.router.navigateByUrl("/")},500);break;case 400:this.snackBar.open("Validation Error","Error",{duration:2e3});break;default:this.snackBar.open("Something went wrong","Error",{duration:2e3})}}))}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(n.a),c.Ob(E.a),c.Ob(d.a),c.Ob(n.c))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-user-update-form"]],decls:59,vars:12,consts:[[3,"title","breadcrumbSegments"],[3,"formGroup","ngSubmit"],[1,"wrapper"],["appearance","outline",1,"w-100","mb-3"],["matInput","","type","text","formControlName","userName","required",""],[4,"ngIf"],["matInput","","type","text","formControlName","callingName","required",""],[1,"form-group"],[1,"row"],[1,"col-md-6"],["formControlName","gender",1,"contact-radio-group"],["value","male",1,"contact-radio-button"],["value","female",1,"contact-radio-button"],["appearance","outline",1,"w-100"],["matInput","","formControlName","dateOfBirth","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"text-right","mt-5","d-flex"],["routerLink","/users","class","ml-0","mat-stroked-button","","color","primary",4,"appHasRole"],["routerLink","/users/change-my-password","mat-stroked-button","","color","accent"],[1,"spacer"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"mr-0"],["align","right"],[1,"text-warning"],["routerLink","/users","mat-stroked-button","","color","primary",1,"ml-0"]],template:function(t,e){if(1&t&&(c.Pb(0,"app-page-header",0),c.Ub(1,"form",1),c.fc("ngSubmit",(function(){return e.submit()})),c.Ub(2,"mat-card",2),c.Ub(3,"mat-card-content"),c.Ub(4,"mat-form-field",3),c.Ub(5,"mat-label"),c.Mc(6,"Username"),c.Tb(),c.Pb(7,"input",4),c.Ub(8,"mat-hint"),c.Mc(9,"Enter the username. Ex:\xa0Username"),c.Tb(),c.Kc(10,Qt,2,0,"mat-error",5),c.Tb(),c.Ub(11,"mat-form-field",3),c.Ub(12,"mat-label"),c.Mc(13,"Full Name"),c.Tb(),c.Pb(14,"input",6),c.Ub(15,"mat-hint"),c.Mc(16,"Enter a Full Name. Ex:\xa0Jason"),c.Tb(),c.Kc(17,te,2,0,"mat-error",5),c.Tb(),c.Ub(18,"div",7),c.Ub(19,"div",8),c.Ub(20,"div",9),c.Ub(21,"label"),c.Mc(22,"Gender"),c.Tb(),c.Pb(23,"br"),c.Ub(24,"mat-radio-group",10),c.Ub(25,"mat-radio-button",11),c.Mc(26," Male "),c.Tb(),c.Ub(27,"mat-radio-button",12),c.Mc(28," Female "),c.Tb(),c.Tb(),c.Tb(),c.Ub(29,"div",9),c.Ub(30,"mat-form-field",13),c.Ub(31,"mat-label"),c.Mc(32,"Choose a birthday"),c.Tb(),c.Pb(33,"input",14),c.Ub(34,"mat-hint"),c.Mc(35,"Choose a DateOfBirth. Ex:\xa012/25/2020"),c.Tb(),c.Pb(36,"mat-datepicker-toggle",15),c.Pb(37,"mat-datepicker",null,16),c.Kc(39,ee,2,0,"mat-error",5),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(40,"div",17),c.Kc(41,re,4,0,"button",18),c.Ub(42,"button",19),c.Ub(43,"mat-icon"),c.Mc(44,"edit"),c.Tb(),c.Mc(45,"Change Password"),c.Tb(),c.Pb(46,"span",20),c.Ub(47,"button",21),c.fc("click",(function(){return e.reset()})),c.Ub(48,"mat-icon"),c.Mc(49,"refresh"),c.Tb(),c.Mc(50," Clear"),c.Tb(),c.Ub(51,"button",22),c.Ub(52,"mat-icon"),c.Mc(53,"save"),c.Tb(),c.Mc(54," Save"),c.Tb(),c.Tb(),c.Ub(55,"mat-card-actions",23),c.Ub(56,"span",24),c.Mc(57,"*"),c.Tb(),c.Mc(58," Required Fields "),c.Tb(),c.Tb(),c.Tb()),2&t){const t=c.yc(38);c.sc("title","User Change Form of ",e.user.userName,""),c.qc("breadcrumbSegments",c.uc(9,ae,"Change Details of "+e.user.userName)),c.Bb(1),c.qc("formGroup",e.form),c.Bb(9),c.qc("ngIf",e.form.get("userName").errors&&e.form.get("userName").touched),c.Bb(7),c.qc("ngIf",e.form.get("callingName").touched&&e.form.get("callingName").hasError("required")),c.Bb(16),c.qc("matDatepicker",t),c.Bb(3),c.qc("for",t),c.Bb(3),c.qc("ngIf",e.form.get("dateOfBirth").touched&&e.form.get("dateOfBirth").hasError("required")),c.Bb(2),c.qc("appHasRole",c.tc(11,ne))}},directives:[u.a,s.w,s.o,s.i,l.a,l.c,m.c,m.g,f.b,s.c,s.n,s.g,s.t,m.f,a.m,tt.b,tt.a,et.b,et.d,m.h,et.a,F.a,p.b,n.d,g.a,l.b,m.b],styles:[""]}),t})(),resolve:{user:j}}];let oe=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[n.g.forChild(se)],n.g]}),t})();var ie=r("hctd"),ce=r("FpXt");let be=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[a.c,oe,ie.a,s.s,ce.a]]}),t})()}}]);